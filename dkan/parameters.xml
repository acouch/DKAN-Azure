<parameters>

    <!-- Prompts where to copy the content files and takes a web site path (such as "contoso.com/app"). -->
    <parameter name="Application Path" description="Installation path for DKAN Distro" defaultValue="Default Web Site/dkan" tags="iisapp">
        <parameterEntry type="ProviderPath" scope="iisapp" match="dkan" />
    </parameter>

    <!-- This is the parameter that is used to set ACLs, it's set to the application path filled in by the user -->
    <parameter name="SetAclParameter1" description="Sets the ACL on the right subdirectory" defaultValue="{Application Path}/sites/default" tags="hidden">
        <parameterEntry type="ProviderPath" scope="setAcl" match="dkan/sites/default$" />
    </parameter>

    <!-- Prompts for database server name, this is used in the connection string parameter later -->
    <parameter name="mdbServer" description="Location of your MySQL 5.0.x database server.  Enter localhost, or specify your database server's name or IP address." defaultValue="localhost" tags="MySQL,DBServer">
        <parameterEntry type="TextFile" scope="install.sql" match="PlaceholderForDbServer" />
    </parameter>

    <!-- Prompts for database server port -->
    <!-- Disabled per Microsoft's recommendation -->
    <!-- parameter name="mdbPort" friendlyName="Database Port" description="Your MySQL 5.0.x database server port. Default is 3306" defaultValue="3306" tags="MySQL">
        <parameterValidation type="RegularExpression, allowEmpty" validationString="^[0-9]{2,5}$"/>
    </parameter -->
    <parameter name="mdbPort" defaultValue="3306" tags="MySQL, Hidden"/>


    <!-- Prompts for the database name and fills it into the database scripts as well as the configuration file -->
    <parameter name="mdbName" description="The database name to be used by Dkan" defaultValue="dkan7_db" tags="MySQL,DBName">
        <parameterEntry type="TextFile" scope="install.sql" match="PlaceHolderForDb" />
    </parameter>

    <!-- Prompts for the database username and fills it into the database scripts as well as the configuration file.    
    The MySQL tag indicates it is a parameter required for MySQL, the DbUsername tag indicates this is a Db username -->
    <parameter name="mdbUsername" description="Username to access your Dkan database" defaultValue="dkan7_user" tags="MySQL, DbUsername">
        <parameterEntry type="TextFile" scope="install.sql" match="PlaceHolderForUser" />
    </parameter>

    <!-- Prompts for the database password and fills it into the database scripts.
    The MySQL tag indicates it is a parameter required for MySQL, the DbUserPassword tag indicates this is a Db password -->
    <parameter name="mdbUserPassword" description="Password for your Dkan database"  tags="New, Password, MySQL, dbUserPassword">
        <parameterEntry type="TextFile" scope="install.sql" match="PlaceHolderForPassword" />
        <parameterValidation type="allowEmpty"/>
    </parameter>

    <!-- parameter name="databases in default settings php" description="databases in default settings php" 
    defaultValue="$databases = array('default' => array('default' => array ('database' => '{mdbName}', 'username' => '{mdbUsername}', 'password' => '{mdbUserPassword}', 'host' => '{mdbServer}', 'port' => '{mdbPort}', 'driver' => 'mysql')));" tags="MySQL, Hidden">
      <parameterEntry type="TextFile" scope="\\sites\\default\\settings.php" match="\$databases = array\(\);" />
    </parameter -->

    <parameter 
        name="md7db"
        defaultValue="('database' =&gt; '{mdbName}', 'username' =&gt; '{mdbUsername}', 'password' =&gt; '{mdbUserPassword}', 'host' =&gt; '{mdbServer}', 'driver' =&gt; 'mysql', 'port' =&gt; '{mdbPort}',"
        tags="Hidden, MySQL">
      <parameterEntry
          type="TextFile"
          scope="\\sites\\default\\settings.php"
          match="\(\s*'database'\s*=>\s*'([^']*)'\s*,\s*'username'\s*=>\s*'([^']*)',\s*'password'\s*=>\s*'([^']*)',\s*'host'\s*=>\s*'([^']*)',\s*'driver'\s*=>\s*'([^']*)',"/>
    </parameter>


  <!-- Prompts for the admin creds (like root) and uses it for the administrator connection string. 
	This is used to create a login and assign permissions. The MySQL tag indicates it is a parameter required for MySQL. 
	The DbAdminUsername tag indicates it should be used when the user is creating a new database. 
	If they're not, it can be filled in with the DbUsername value. -->
	<parameter name="mdbAdminUsername" description="Administrator username for the MySQL database server" defaultValue="root" tags="MySQL, DbAdminUsername">
	</parameter>

	<!-- Prompts for the admin password and uses it for the administrator connection string. 
	This is used to create a login and assign permissions. The MySQL tag indicates it is a parameter required for MySQL. 
	The DbAdminPassword tag indicates it should be used when the user is creating a new database. 
	If they're not, it can be filled in with the DbUserPassword value. -->
	<parameter name="mdbAdminPassword" description="Administrator account password for the MySQL database server" tags="Password, MySQL, DbAdminPassword">
        <parameterValidation type="allowEmpty"/>
	</parameter>

	<!-- This is the hidden admin connection string used to run the database scripts -->
	<parameter name="Connection String" description="This is the connection string for the connection request." defaultValue="uid={mdbAdminUsername};Pwd={mdbAdminPassword};Database={mdbName};Server={mdbServer}" tags="MySQL, Hidden, Validate, MySQLConnectionString">
		<parameterEntry type="ProviderPath" scope="dbmysql" match="install.sql" />
	</parameter>



   <!-- SQL Server specific parameters -->
   <!-- specify databse information in settings.local.php -->

  <parameter name = "dbServer" defaultValue = ".\SQLEXPRESS" tags = "SQL, dbServer" >
  </parameter>

  <parameter name="dbDriver" tags="SQL, hidden" defaultValue="mysql">
  </parameter>

  <parameter name = "dbName"  defaultValue = "dkan_db" tags = "SQL, dbName" >
    <parameterEntry type = "TextFile"   scope = "installSQL2.sql" match = "#dbname#"  />
  </parameter>

  <parameter name = "dbUsername"   defaultValue = "dkan_user"  tags = "SQL, dbUsername" >
    <parameterEntry type = "TextFile" scope = "installSQL1.sql" match = "#dbusername#"  />
    <parameterEntry type = "TextFile" scope = "installSQL2.sql" match = "#dbusername#"  />  
  </parameter>

  <parameter name = "dbUserPassword"   tags = "New, Password, SQL, dbUserPassword" >
    <parameterValidation type="allowEmpty"/>
    <parameterEntry type = "TextFile" scope = "installSQL1.sql" match = "#dbuserpassword#"  />
  </parameter>

  <parameter name = "dbAdminUsername" defaultValue = "sa"  tags = "SQL, dbAdminUsername" >
  </parameter>

  <parameter name = "dbAdminPassword" tags = "Password, SQL, dbAdminPassword" >
  </parameter>

  <parameter name = "ConString"
      defaultValue = "Server={dbServer};Database=master;uid={dbAdminUsername};Pwd={dbAdminPassword};"
      tags = "NoStore,SQL, Hidden, SQLConnectionString" >
    <parameterEntry   type = "ProviderPath"   scope = "dbfullsql"   match = "installSQL1.sql"  />
  </parameter>

  <parameter name = "ConString2"
      defaultValue = "Server={dbServer};Database={dbName};uid={dbAdminUsername};Pwd={dbAdminPassword};"
      tags = "SQL, Hidden, SQLConnectionString" >
    <parameterEntry   type = "ProviderPath"   scope = "dbfullsql"   match = "installSQL2.sql"  />
  </parameter>


  <!-- parameter name="d7db"
      defaultValue="$databases = array('default' => array('default' => array ('database' => '{dbName}', 'username' => '{dbUsername}', 'password' => '{dbUserPassword}', 'host' => '{dbServer}', 'driver' => 'sqlsrv')));" 
      tags="SQL, Hidden">
    <parameterEntry type="TextFile" scope="\\sites\\default\\settings.php" match="\$databases = array\(\);" />
  </parameter -->
  
  <parameter 
      name="d7db"
      defaultValue="('database' =&gt; '{dbName}', 'username' =&gt; '{dbUsername}', 'password' =&gt; '{dbUserPassword}', 'host' =&gt; '{dbServer}', 'driver' =&gt; 'sqlsrv',"
      tags="Hidden, SQL">
    <parameterEntry
        type="TextFile"
        scope="\\sites\\default\\settings.php"
        match="\(\s*'database'\s*=>\s*'([^']*)'\s*,\s*'username'\s*=>\s*'([^']*)',\s*'password'\s*=>\s*'([^']*)',\s*'host'\s*=>\s*'([^']*)',\s*'driver'\s*=>\s*'([^']*)',"/>
  </parameter>

</parameters>
